# 包管理
Go语言的包的主要作用是把功能相似或相关的代码组织在同一个包中，以方便查找和使用。
## 工作区
Go语言中没有工程文件的概念，而是通过目录结构来体现工程的结构关系。Go代码必须放在工作区中。
### 工作区结构
工作区其实就相当于一个对应于特定工程的目录，它应包含三个子目录：src、bin、pkg。
其中个目录的作用：
* src目录：用来以代码包的形式组织并保存Go源代码，同时也是Go编译时查找代码的地方。
* pkg目录：用于存放经由go get/install 命令构建的代码包的“.a”归档文件，也是编译生成lib文件存储的地方。
* bin目录：与pkg目录类似，在通过go get/install 命令完成安装后，保存由Go命令源码文件生成的可执行文件。

目录src用于包含所有的源代码，是Go命令行工具的一个强制的规则，而pkg和bin则无须手动创建，必要时Go命令行工具在构建过程中会自动创建这些目录。
### GOPATH
GOPATH可以理解为工作目录或者工作区，也是平时接触最多的一个环境变量。它可以是一个目录，也可以是多个目录路径，每个目录代表一个工作区。

Go的所有操作（编码、依赖管理、构建、测试、安装等）基本上是围绕GOPATH来进行的。

这里重点介绍一下如何使用命令行添加GOPATH。window下的GOPATH默认为：%USERPROFILE%\go；Linux下默认为：$HOME/go。在Window下，使用echo命令查看当前的GOPATH，需要在GOPATH前后添加“%”，表示一个系统变量：
```
C:\Users\admin>echo %GOPATH%
C:\Users\admin\go
```
在Linux下，查看GOPATH使用echo，须在GOPATH前添加"$"符号表示为系统变量：
```
[root@localhost ~]# echo $GOPATH
/root/go
```
如果要永久添加该路径到GOPATH中，需要修改配置文件/etc/profile，向该文件末尾添加如下信息：
```
export GOPATH=$GOPATH:/home/Newproject
```
之后在使用source命令重新执行刚刚修改的初始化文件，时之生效：
```
source profile
```
### GOROOT
GOROOT是Go语言的程序安装目录，并非必须设置。Linux默认安装在/user/local/go下。
### GOBIN
GOBIN目录一般为GOPATH的可执行文件放置目录，一般指bin。
需要注意的是，只有环境变量GOPATH中只包含一个工作取得目录路径时，go install命令才会把命令源码安装在当前工作区的bin目录下。若环境变量GOPATH中包含多个工作区的目录路径时，执行go install命令就会失效，此时必须设置GOBIN目录。
## 包的声明
* Go语言的源代码以代码包为基本的组织单位。
* 在文件系统中，代码包是与文件目录一一对应的，文件目录的子目录也就是代码包的子包。
* 在工作区中，一个代码包的导入路径实际上就是从src目录到该包的实际存储位置的相对路径。

每一个Go源文件的第一行都必须声明包的名称，声明一个包使用关键字package。
包中成员以名称首字母大小决定访问权限：
* public：首字母大写，可被包外访问。
* private：首字母系小写，仅包内成员可以访问。

注意：同一个目录下不可以定义不同的package。
## 包的导入
### 导入声明
导入包需要使用关键字import，他会告诉编译器你想引用的该位置的包中的代码，包的路径可以是相对路径也可以是绝对路径。
```go
//声明方式1
import "fmt"
import "time"

//声明方式2
import (
    "fmt"
    "time"
)

```

### 远程导入
Go语言不仅支持我们调用本地包，还支持调用远程服务包。
```go
import "github.com/gin-gonic/gin"
```
### 别名导入
在导入包时，可以指定包成员的访问方式，例如进行重命名，也就是使用别名的方式，避免导入两个相同包名的不同包时发生冲突。
举例：
```go
package main

import (
    print "fmt"
    date "time"
)

func main(） {
    print.Println("当前时期为：",date.Now().Day())
})
```
### 匿名导入
在Go语言中，如果导入一个包而不使用，在编译时就会产生“unused import”的编译错误。有时候我们可能需要导入一个包，但不会引用这个包的标识符，在这种情况下可以使用包的匿名导入的方式，就是使用下划线"—"来重命名该包。
```go
import _ "fmt"
```
## main包
所有用Go语言编译的可执行的程序都必须有一个名为main的包，main包有且仅有一个。main()函数是程序的入口，所以，如果没有这个函数，程序就没有办法开始执行。
## 包的初始化
在Go语言中与两个保留的函数：init函数（能过应用于所有的package）和main函数（只能应用于package main）。这两个函数在定义时不能有任何的参数和返回值。虽然一个package里面可以写任意多个init函数，但无论是对于可读性还是以后的维护性来说，我们强烈建议用户在一个package中，每个文件只写一个init函数
## 包的命名
包的命名有如下规则：
第一条规则，同目录下的源码文件的代码包声明语句要一致。也就是说，他们要同属一个代码包。
第二条规则，源码文件声明的代码包的名称可以与其所在的目录的名称不同（import后面的最后一个元素是路径，即目录，并非包名）。如当前目录名为project1，但包名可以为main，或者mypkg。
## 依赖包的管理
在Go语言开发过程中，我们经常会使用很多第三方的依赖包，如github的第三方包。因此在Go1.11之后，官方发布了支持的版本管理工具mod。使用go mod命令即可运行mod工具
```go
go mod init
go mod tidy
```

## GO语言命名规范

### 驼峰式命名法
* 小驼峰命名法
第一个单词以小写字母开始，其他单词的首字母则需要大写：
``` go
var sumNum int
var firstName string
var printValue func()
```
* 大驼峰命名法
每一个单词的首字母都采用大写：
```go
var SumNum int
var FristName string
var PrintValue func()
```

### 导出标识符
Go语言中标识符根据首字母的大小写来确定可以访问的权限。如果首字母大写，则表示可以被其他包中的代码访问；如果首字母小写，则表示该标识符只能被本包中使用（不可被导出）。